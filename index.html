<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, Paper, Scissors</title>
    <!-- FONT AWESOME ICONS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- SERVER SIDE SCRIPTS -->
    <script src="./app.js"></script>

    <style>
        body {
            width: 100vw;
            height: 100vh;
            margin: 0;
            margin-top: 10vh;
            background-color: #1e1e1e;
            display: flex;
            justify-content: center;
            text-align: center;
            gap: 0.5rem;
        }

        div {
            display: flex;
            flex-direction: column;
            flex-basis: 20%;
            max-width: 150px;
            container-type: size;
        }

        button {
            background-color: #1e1e1e;
            border: 1px solid currentColor;
            border-radius: 4px;
            font-size: 6cqh;
            aspect-ratio: 1;
        }

        p {
            font-family: sans-serif;
            font-size: 17.5cqw;
            margin: 0;
        }

        #rock,
        #rock~p {
            color: #84ffc9;
        }

        #paper,
        #paper~p {
            color: #aab2ff;
        }

        #scissors,
        #scissors~p {
            color: #eca0ff;
        }
    </style>
</head>

<body>
    <div>
        <button id="rock" type="submit"><i class="fa-solid fa-hand-rock"></i></button>
        <p>rock</p>
    </div>
    <div>
        <button id="paper" type="submit"><i class="fa-solid fa-hand-paper"></i></button>
        <p>paper</p>
    </div>
    <div>
        <button id="scissors" type="submit"><i class="fa-solid fa-hand-scissors"></i></button>
        <p>scissors</p>
    </div>
    

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const choices = document.querySelectorAll("button"); // returns a nodelist that can be iterated

            choices.forEach(element => {
                element.addEventListener('click', () => {
                    // Make a POST request to the server
                    fetch('http://localhost:4001', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'text/plain',
                        },
                        body: element.id,
                    })
                    .then(response => response.text())
                    .then(data => {
                        // Handle the response from the server
                        console.log(data);
                    })
                    .catch(error => {
                        console.error('Error:', error);
                    });

                });
            });
        })
    </script>

</body>

</html>